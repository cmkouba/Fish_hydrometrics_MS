# Repository for Kouba et al. 2025 in Ecohydrology
## "A watershed-specific approach to identify key functional flow metrics supporting salmon reproduction"

This repository includes the codebase and data sources used in [this *Ecohydrology* article](https://onlinelibrary.wiley.com/doi/10.1002/eco.70098).

To start working with this repository, it is recommended to start from the top of the RMarkdown script `Kouba_2025_Fish_hydrometrics_MS.Rmd`, which calls the two other main scripts, `01_DataRetrieval_Cleaning_SaveLocal.R` and `02_Figure_Functions.R`, as well as another RMarkdown script containing supplementary material. 

## Data

This repository includes some datasets that are used in the manuscript. Other datasets are pulled from public sources, such as USGS river flow data or spatial data, before saving a local copy. Reading in or pulling data occurs in the script `01_DataRetrieval_Cleaning_SaveLocal.R`.  However, over time, APIs and hosting services for public datasets may change; this may result in errors if the script cannot retrieve the specified datasets.

## Analysis

Analysis for this study was done in R using the RStudio IDE. Most code for statistical analysis and figure generation is stored in the script `02_Figure_Functions.R`.

## Document construction

The full manuscript can be generated by knitting the RMarkdown script `Kouba_2025_Fish_hydrometrics_MS.Rmd`, with the option to append `Kouba_2025_Fish_hydrometrics_Supplement.Rmd`. Tables and figure captions are currently configured to generate a Word document.

